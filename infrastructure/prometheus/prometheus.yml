# Prometheus Configuration for IndustrialMind
global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'industrialmind-dev'
    environment: 'development'

# Alertmanager configuration (to be added later)
# alerting:
#   alertmanagers:
#     - static_configs:
#         - targets: ['alertmanager:9093']

# Load rules once and periodically evaluate them
# rule_files:
#   - 'alerts/*.yml'

# Scrape configurations
scrape_configs:
  # Prometheus itself
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # InfluxDB metrics
  - job_name: 'influxdb'
    static_configs:
      - targets: ['influxdb:8086']
    metrics_path: '/metrics'

  # Kafka metrics (when exposed)
  # - job_name: 'kafka'
  #   static_configs:
  #     - targets: ['kafka:9092']

  # PostgreSQL metrics (requires postgres_exporter)
  # - job_name: 'postgres'
  #   static_configs:
  #     - targets: ['postgres-exporter:9187']

  # Redis metrics (requires redis_exporter)
  # - job_name: 'redis'
  #   static_configs:
  #     - targets: ['redis-exporter:9121']

  # Application services (when implemented with metrics endpoints)
  # - job_name: 'data-simulator'
  #   static_configs:
  #     - targets: ['data-simulator:8000']
  #   metrics_path: '/metrics'

  # - job_name: 'data-ingestion'
  #   static_configs:
  #     - targets: ['data-ingestion:8000']
  #   metrics_path: '/metrics'

  # - job_name: 'anomaly-api'
  #   static_configs:
  #     - targets: ['anomaly-api:8000']
  #   metrics_path: '/metrics'

  # - job_name: 'dashboard'
  #   static_configs:
  #     - targets: ['dashboard:8501']
  #   metrics_path: '/metrics'
